name: Rolling Check Docs

on:
  workflow_dispatch:
  pull_request:
    branches:
      - master
    paths:
      - '**.rst'
      - '**.md'
      - '**.jpg'
      - '**.jpeg'
      - '**.png'
      - '**.svg'
      - '**.yml'
      - '**.yaml'
      - '!.github/**' # exclude yaml files in .github directory
      - '.github/workflows/rolling-check-docs.yml'

concurrency:
  # cancel previous runs of the same workflow, except for pushes on given branches branch
  group: ${{ github.workflow }}-${{ github.ref }}
  cancel-in-progress: ${{ !startsWith(github.ref, 'refs/heads') }}

jobs:
  check-docs:
    name: Check Docs
    uses: ros-controls/control.ros.org/.github/workflows/reusable-sphinx-check-single-version.yml@rolling
    with:
      CONTROL_TOOLBOX_PR: ${{ github.ref }}
